<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Auth | Cybercrest '26</title>
    <style>
        :root {
            --neon-green: #39FF14;
            --terminal-bg: #050505;
            --border-glow: rgba(57, 255, 20, 0.4);
        }

        body, html {
            margin: 0;
            padding: 0;
            background-color: var(--terminal-bg);
            color: var(--neon-green);
            font-family: 'Courier New', Courier, monospace;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            cursor: pointer; /* Suggests the page is interactive */
        }

        #matrix-bg {
            position: fixed;
            top: 10;
            left: 10;
            z-index: -1;
            opacity: 0.15;
        }

        .header-section {
            text-align: center;
            margin-bottom: 90px;
        }

        .admin-logo {
            width: 120px;
            filter: drop-shadow(0 0 0px var(--neon-green));
        }

        .title {
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 5px;
            margin: 20px 10px;
            text-shadow: 0 0 50px var(--neon-green);
        }

        .subtitle {
            font-size: 1rem;
            color: #fff;
            letter-spacing: 2px;
            opacity: 10;
        }

        .login-panel {
            background: rgba(0, 20, 0, 0.8);
            border: 1px solid var(--neon-green);
            padding: 80px;
            width: 350px;
            box-shadow: 0 0 30px var(--border-glow);
            position: relative;
        }

        .login-panel::before {
            content: "SECURE ACCESS PROTOCOL REQUIRED";
            position: absolute;
            top: -10px;
            left: 90px;
            background: var(--terminal-bg);
            padding: 0 10px;
            font-size: 1rem;
            color: #2bff00;
        }

        .input-group {
            margin-bottom: 40px;
        }

        .input-group label {
            display: block;
            font-size: 1.5rem;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        input {
            width: 100%;
            background: transparent;
            border: 1px solid var(--neon-green);
            padding: 15px;
            color: #fff;
            box-sizing: border-box;
            outline: none;
            transition: 0.10s;
        }

        input:focus {
            box-shadow: 0 0 20px var(--neon-green);
            background: rgba(57, 255, 20, 0.05);
        }

        .auth-btn {
            width: 100%;
            padding: 15px;
            background: var(--neon-green);
            color: #000;
            border: none;
            font-weight: bold;
            cursor: pointer;
            letter-spacing: 2px;
            transition: 0.3s;
        }

        .auth-btn:hover {
            background: #1eff00;
            box-shadow: 0 0 20px #33ff00;
        }

        #status-msg {
            margin-top: 15px;
            font-size: 0.7rem;
            text-align: center;
            height: 20px;
        }
    </style>
</head>
<body onclick="startAudio()">

<canvas id="matrix-bg"></canvas>

<audio id="bg-audio" autoplay loop>
    <source src="Music.mp3" type="audio/mpeg">
</audio>

<div class="header-section">
    <img src="Logo.png" alt="Logo" class="admin-logo">
    <div class="title">ADMIN COMMAND CENTER</div>
    <div class="subtitle">CYBERCREST '26 - QUIZ BYTES</div>
</div>

<div class="login-panel">
    <form id="adminLoginForm">
        <div class="input-group">
            <label>Administrator ID</label>
            <input type="text" id="username" placeholder="Enter Identity..." required autocomplete="off">
        </div>
        <div class="input-group">
            <label>Encryption Passcode</label>
            <input type="password" id="password" placeholder="••••••••" required>
        </div>
        <button type="submit" class="auth-btn">INITIALIZE ACCESS</button>
    </form>
    <div id="status-msg">Click anywhere to sync audio</div>
</div>

<script>
    // --- AUDIO PERSISTENCE LOGIC ---
    const audio = document.getElementById('bg-audio');
    const msg = document.getElementById('status-msg');

    // 1. On page load, check if we have a saved timestamp
    window.addEventListener('load', () => {
        const savedTime = localStorage.getItem('cybercrest_audio_pos');
        if (savedTime) {
            audio.currentTime = parseFloat(savedTime);
        }
    });

    // 2. Function to start audio (triggered by body click)
    function startAudio() {
        audio.play().then(() => {
            if(msg.innerText === "Click anywhere to sync audio") {
                msg.innerText = "SYSTEM AUDIO ONLINE";
                setTimeout(() => msg.innerText = "", 2000);
            }
        }).catch(err => console.log("Waiting for user interaction..."));
    }

    // 3. Save current time every second to handle refreshes
    setInterval(() => {
        if (!audio.paused) {
            localStorage.setItem('cybercrest_audio_pos', audio.currentTime);
        }
    }, 1000);

    // --- MATRIX ANIMATION ---
    const canvas = document.getElementById('matrix-bg');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%^&*";
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function drawMatrix() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#0F0";
        ctx.font = fontSize + "px monospace";
        for (let i = 0; i < drops.length; i++) {
            const text = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        }
    }
    setInterval(drawMatrix, 40);

    // --- LOGIN LOGIC ---
    document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const user = document.getElementById('username').value;
        const pass = document.getElementById('password').value;
        
        msg.style.color = "white";
        msg.innerText = "AUTHENTICATING...";

        setTimeout(() => {
            if(user === "QuizBytesEvent@26" && pass === "Crescent2026") {
                msg.style.color = "var(--neon-green)";
                msg.innerText = "ACCESS GRANTED. REDIRECTING...";
                setTimeout(() => {
                    window.location.href = "Admin_Control.html"; 
                }, 1000);
            } else {
                msg.style.color = "red";
                msg.innerText = "ERROR: UNAUTHORIZED ACCESS DETECTED.";
            }
        }, 1500);
    });
</script>

</body>
</html>